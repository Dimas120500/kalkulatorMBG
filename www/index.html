<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; 
                   style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; 
                   font-src 'self' https://cdnjs.cloudflare.com;
                   script-src 'self' 'unsafe-inline' 'unsafe-eval';">
    
    <title>Kalkulator MBG - Cordova App</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Kita -->
    <link rel="stylesheet" href="css/index.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ§®</text></svg>">
</head>
<body>
    <!-- Container Utama -->
    <div class="container">
        
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-calculator"></i> Kalkulator distribusi</h1>
            <p class="subtitle">Dirancang untuk mempermudah driver</p>
        </header>
        
        <!-- Form Input Data -->
        <section class="card" id="inputSection">
            <div class="card-header">
                <i class="fas fa-plus-circle"></i>
                <h2>Tambah Data Sekolah</h2>
            </div>
            
            <div class="form-group">
                <label for="namaSekolah">
                    <i class="fas fa-school"></i> Nama Sekolah
                </label>
                <input type="text" 
                       id="namaSekolah" 
                       class="form-input"
                       placeholder="Contoh: SDN 1 atu lintang"
                       maxlength="50"
                       autocomplete="off">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="porsiBesar">
                        <i class="fas fa-utensils"></i> Porsi Besar
                    </label>
                    <input type="number" 
                           id="porsiBesar" 
                           class="form-input"
                           placeholder="0"
                           min="0"
                           step="1">
                </div>
                
                <div class="form-group">
                    <label for="porsiKecil">
                        <i class="fas fa-utensil-spoon"></i> Porsi Kecil
                    </label>
                    <input type="number" 
                           id="porsiKecil" 
                           class="form-input"
                           placeholder="0"
                           min="0"
                           step="1">
                </div>
            </div>
            
            <div class="button-group">
                <button id="btnSimpan" class="btn btn-primary">
                    <i class="fas fa-save"></i> Simpan Data
                </button>
                
                <div class="button-row">
                    <button id="btnReset" class="btn btn-secondary">
                        <i class="fas fa-redo"></i> Reset Form
                    </button>
                    <button id="btnHapusSemua" class="btn btn-danger">
                        <i class="fas fa-trash-alt"></i> Hapus Semua
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Daftar Data -->
        <section class="card" id="dataSection">
            <div class="card-header">
                <i class="fas fa-list"></i>
                <h2>Data Sekolah <span id="dataCount" class="badge">0</span></h2>
            </div>
            
            <div id="dataContainer">
                <!-- Data akan dimuat oleh JavaScript -->
                <div class="empty-state">
                    <i class="fas fa-clipboard-list"></i>
                    <h3>Belum ada data</h3>
                    <p>Tambahkan data sekolah menggunakan form di atas</p>
                </div>
            </div>
        </section>
        
        <!-- Total Keseluruhan -->
        <section class="card total-card" id="totalSection">
            <div class="card-header">
                <i class="fas fa-chart-bar"></i>
                <h2>Total Keseluruhan</h2>
            </div>
            
            <div id="totalContainer">
                <!-- Total akan dihitung oleh JavaScript -->
                <div class="total-grid">
                    <div class="total-item">
                        <div class="total-label">Porsi Besar</div>
                        <div class="total-value">0</div>
                        <div class="total-detail">Ikat: 0 | Ompreng: 0</div>
                    </div>
                    <div class="total-item">
                        <div class="total-label">Porsi Kecil</div>
                        <div class="total-value">0</div>
                        <div class="total-detail">Ikat: 0 | Ompreng: 0</div>
                    </div>
                </div>
                <div class="info-text">
                    <i class="fas fa-info-circle"></i> 1 ikat = 5 porsi
                </div>
            </div>
        </section>
        
        <!-- Export & Aksi -->
        <section class="card" id="actionSection">
            <div class="card-header">
                <i class="fas fa-download"></i>
                <h2>Ekspor & Aksi</h2>
            </div>
            
            <div class="action-grid">
                <button id="btnExportHTML" class="btn btn-success">
                    <i class="fas fa-file-export"></i> Export HTML
                </button>
                <button id="btnExportPDF" class="btn btn-info">
                    <i class="fas fa-file-pdf"></i> Export PDF
                </button>
                <button id="btnPrint" class="btn btn-warning">
                    <i class="fas fa-print"></i> Cetak Laporan
                </button>
                <button id="btnShare" class="btn btn-secondary">
                    <i class="fas fa-share-alt"></i> Share
                </button>
            </div>
        </section>
        
    </div> <!-- /container -->
    
    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle toast-icon"></i>
        <span id="toastMessage" class="toast-text">Pesan notifikasi</span>
    </div>
    
    <!-- Modal Konfirmasi -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <i class="fas fa-exclamation-triangle modal-icon"></i>
                <h3 id="modalTitle">Konfirmasi</h3>
            </div>
            <div class="modal-body">
                <p id="modalMessage">Apakah Anda yakin?</p>
            </div>
            <div class="modal-footer">
                <button id="modalCancel" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Batal
                </button>
                <button id="modalConfirm" class="btn btn-danger">
                    <i class="fas fa-check"></i> Ya, Lanjutkan
                </button>
            </div>
        </div>
    </div>
    
    <!-- Tombol Info Developer (menggantikan footer) -->
    <button id="devInfoBtn" class="dev-info-btn" title="Info Developer">
        <i class="fas fa-info-circle"></i>
    </button>
    
    <!-- JavaScript Kita -->
    <script src="js/index.js"></script>
</body>
</html>